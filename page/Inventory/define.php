<?php	//-----------Define All Page---------------------------------------------//	DEFINE('PATH_INDEX_LOGOUT','index.php?page=true&logout=out');	DEFINE('PATH_ITEMCAT','index.php?itemcat=true&page=itemcat');	DEFINE('PATH_BRAND','index.php?brand=true&page=brand');	DEFINE('PATH_ITEM','index.php?item=true&page=item');	DEFINE('PATH_STOCK','index.php?stock=true&page=stock');	DEFINE('PATH_VENDOR','index.php?vendor=true&page=vendor');	DEFINE('PATH_MOVETYPE','index.php?movetype=true&page=movetype');	DEFINE('PATH_CRLEVEL','index.php?crlevel=true&page=crlevel');	DEFINE('PATH_WRHOUSE','index.php?wrhouse=true&page=wrhouse');	DEFINE('PATH_SJVMOVE','index.php?sjvmove=true&page=sjvmove');	DEFINE('PATH_TOPUP','index.php?topup=true&page=topup');	DEFINE('PATH_UNIT','index.php?unit=true&page=unit');	DEFINE('PATH_BRAND2','index.php?brand2=true&page=brand2');	DEFINE('PATH_CURR','index.php?curr=true&page=curr');	DEFINE('PATH_CCENTER','index.php?ccenter=true&page=ccenter');	DEFINE('PATH_JVMOVEMENT','index.php?jvmovement=true&page=jvmovement');	DEFINE('PATH_MRETURN','index.php?mreturn=true&page=mreturn');	DEFINE('PATH_MOVEMENT','index.php?movement=true&page=movement');	DEFINE('PATH_LOCATION','index.php?location=true&page=location');	DEFINE('PATH_PLANRP','index.php?rp=true&page=rp');	DEFINE('PATH_SITE','index.php?site=true&page=site');		//---------Define Path Report -------------------------------------------//	DEFINE('PATH_RINTRANS','index.php?rintrans=true&page=rintrans');	DEFINE('PATH_RINTOPUP','index.php?rintopup=true&page=rintopup');	DEFINE('PATH_RINJOURN','index.php?rinjourn=true&page=rinjourn');	DEFINE('PATH_RINRETUR','index.php?rinretur=true&page=rinretur');		//-----------Define add, delete, edit page-------------------------------//	DEFINE('ADD','&add=ok');	DEFINE('EDIT','&edit=ok');	DEFINE('DELETE','&delete=ok');	DEFINE('CHILD','&child=ok');	DEFINE('UPLOAD','&upload=ok');	DEFINE('POST','&post=ok');	DEFINE('GEN','&gen=ok');	DEFINE('WO','&wo=ok');	DEFINE('PASS','&pass=ok');	DEFINE('RP','&rp=ok');	DEFINE('TPRINT','&print=ok');	DEFINE('FPDF','&fpdf=ok');	DEFINE('EXCEL','&excel=ok');		//-----------Define Root DIrectory --------------------------------------//	DEFINE('_ROOT_','page/Inventory/');		//-----------Define title of this page ----------------------------------//	DEFINE('_TITLE_','Inventory');	DEFINE('TITEMCAT','ITEM CATEGORIES');	DEFINE('TAITEMCAT','CREATE A NEW ITEM CATEGORIES');	DEFINE('EAITEMCAT','EDIT ITEM CATEGORIES ');	DEFINE('TBRAND','BRAND ');	DEFINE('TABRAND','CREATE A NEW BRAND ');	DEFINE('EABRAND','EDIT BRAND ');	DEFINE('TITEM','ITEM ');	DEFINE('TAITEM','CREATE A NEW ITEM ');	DEFINE('EAITEM','EDIT ITEM ');	DEFINE('TSTOCK','STOCK ');	DEFINE('TASTOCK','CREATE A NEW STOCK ');	DEFINE('EASTOCK','EDIT STOCK ');	DEFINE('TVENDOR','VENDOR ');	DEFINE('EVENDOR','EDIT VENDOR ');	DEFINE('TMOVETYPE','MOVEMENT TYPE ');	DEFINE('TCRLEVEL','CRITICAL LEVEL ');	DEFINE('TWRHOUSE','WAREHOUSE ');	DEFINE('TSJVMOVE','STATE ');	DEFINE('TTOPUP','TOPUP ');	DEFINE('TUNIT','UNIT ');	DEFINE('TBRAND2','BRAND 2');	DEFINE('TCURR','CURRENCY');	DEFINE('TCCENTER','COST CENTER');	DEFINE('TJVMOVEMENT','JOURNAL MOVEMENT');	DEFINE('TMRETURN','MANUAL RETURN');	DEFINE('TMOVEMENT','TRANSACTION');	DEFINE('TLOCATION','LOCATION ');	DEFINE('TSITE','SITE ');		DEFINE('TPLANRP','PLAN PO');		//-----------Define Title Report ----------------------------------//	DEFINE('TRINTRANS','Report of Inventory Transaction');	DEFINE('TRINTOPUP','Report of Inventory Topup');	DEFINE('TRINJOURN','Report of Inventory Journal');	DEFINE('TRINRETUR','Report of Inventory Return');		//-----------Define title of for ----------------------------------//	DEFINE('FAITEMCAT','Item Categories');	DEFINE('FABRAND','Brand');	DEFINE('FAITEM','Item');	DEFINE('FASTOCK','Stock');		//-----------Define SQL Languange ---------------------------------------//	DEFINE('ITEMCAT','SELECT item_category_code Category_Code, item_category_description Description, item_no_code No_Code FROM invent_item_categories');	DEFINE('COUNTITEMCAT','SELECT COUNT(*) Description FROM invent_item_categories');	DEFINE('BRAND','SELECT brand_id Brand_ID, brand_short_name Short_Name, brand_full_name Full_Name FROM invent_brand');	DEFINE('COUNTBRAND','SELECT COUNT(*) FROM invent_brand');	DEFINE('ITEM','SELECT IT.item_id Item_ID, IT.item_description Item_Name, IB.brand_short_name Brand_Name, IC.item_category_description Category, IL.critical_level Critical_Level, IT.min Min, IT.max Max, IU.unit Unit, IT.stock Stock, IT.last_price Last_Price, IT.avg_price Avg_Price, IW.warehouse_name Warehouse, IT.qrpath, IE.id_location Location, IE.detail_location FROM invent_item IT, invent_brand IB, invent_item_categories IC, invent_critical_level IL, invent_unit IU, invent_warehouse IW, invent_location IE WHERE IT.brand_id=IB.brand_id AND IT.item_category_code=IC.item_category_code AND IT.critical_id=IL.critical_id AND IT.id_unit=IU.id_unit AND IT.warehouse_id=IW.warehouse_id AND IT.id_location=IE.id_location');	DEFINE('EITEM','SELECT item_id, brand_id, item_category_code, item_description, remark_1, remark_2, remark_3, remark_4, remark_5, critical_id, min, max, id_unit, warehouse_id, currency_id, id_location FROM invent_item');	DEFINE('STOCK','SELECT IT.item_id Item_ID, IT.item_description Item_Name, IST.quantity Stock FROM invent_stock IST, invent_item IT WHERE IST.item_id=IT.item_id');	DEFINE('ESTOCK','SELECT item_id, quantity FROM invent_stock');	DEFINE('VENDOR','SELECT vendor_id Vendor_ID, vendor_name Vendor_Name, address Address, owner_vendor Owner_Name, telephone Telephone, fax Fax FROM invent_vendor');	DEFINE('MOVETYPE','SELECT movement_type_id ID, movement_type Movement_Type FROM invent_movement_type');	DEFINE('CRLEVEL','SELECT critical_id Critical_ID, critical_level Critical_Level FROM invent_critical_level');	DEFINE('WRHOUSE','SELECT warehouse_id ID, warehouse_name Warehouse FROM invent_warehouse');	DEFINE('SJVMOVE','SELECT state_journal_movement_id ID, state_journal_movement State FROM invent_state_journal_movement');	DEFINE('TOPUP','SELECT IO.id_topup ID, IT.item_description Spare_Part_Name, IU.unit Unit, IV.vendor_name Vendor, IO.qty Qty, IO.price Price, IJ.state_journal_movement State, IO.po_number PO_Number FROM invent_item IT, invent_vendor IV, invent_topup IO, invent_unit IU, invent_state_journal_movement IJ WHERE IT.item_id=IO.item_id AND IV.vendor_id=IO.vendor_id AND IT.id_unit=IU.id_unit AND IO.state_journal_movement_id=IJ.state_journal_movement_id'); //AND IO.state_journal_movement_id NOT IN ("SJVST181120050127","SJVST181017012129")	DEFINE('UNIT','SELECT id_unit ID, unit Unit, detail Detail_Description FROM invent_unit');	DEFINE('UPSTATE','SELECT state_journal_movement_id FROM invent_topup');	DEFINE('UPSTAMV','SELECT state FROM invent_journal_movement');	DEFINE('UPSTAMN','SELECT state_journal_movement_id FROM invent_manual_return');	DEFINE('BRAND2','SELECT brand_id Brand_ID, brand_short_name Short_Name, brand_full_name Full_Name FROM invent_brand');	DEFINE('CURR','SELECT currency_id ID, currency Currency FROM invent_currency');	DEFINE('CCENTER','SELECT id_cost_center ID, cost_center Cost_Center FROM cost_center');	DEFINE('JVMOVEMENT','SELECT J.jvmovement_id ID, J.date_jvmovement Date, item_description Item_Name, B.brand_short_name Brand, C.cost_center Cost_Center, W.warehouse_name Warehouse, S.state_journal_movement State, take_by Take_By, number_of_stock Number_of_Stock, J.WorkOrderNo Work_Order, T.detail_site Site FROM invent_journal_movement J LEFT JOIN invent_site T ON J.id_site=T.id_site, invent_item I, invent_brand B, cost_center C, invent_warehouse W, invent_state_journal_movement S WHERE J.item_id=I.item_id AND I.brand_id=B.brand_id AND J.id_cost_center=C.id_cost_center AND I.warehouse_id=W.warehouse_id AND J.state=S.state_journal_movement_id'); // AND J.state NOT IN ("SJVST181120050127","SJVST181017012129")	DEFINE('MRETURN','SELECT M.manualreturn_ID ID, M.date_return Return_Date, I.item_description Item_Name, B.brand_short_name Brand, J.state_journal_movement State, M.quantity Quantity FROM invent_manual_return M, invent_item I, invent_brand B, invent_state_journal_movement J WHERE M.item_id=I.item_id AND I.brand_id=B.brand_id AND J.state_journal_movement_id=M.state_journal_movement_id'); //AND M.state_journal_movement_id NOT IN ("SJVST181120050127","SJVST181017012129")	DEFINE('MOVEMENT','SELECT movement_id ID, movement_date Movement_Date, id_topup Jurnal_Number, item_description Item_Name, B.brand_short_name Brand, type Transaction_Type, qty Quantity, remark1 Remark_1, remark2 Remark_2 FROM invent_movement M, invent_item I, invent_brand B WHERE M.item_id=I.item_id AND I.brand_id=B.brand_id');	DEFINE('LOCATION','SELECT id_location ID, detail_location Detail_Location FROM invent_location');	DEFINE('SITE','SELECT id_site ID, detail_site Detail_Site FROM invent_site');	DEFINE('PLANRP','SELECT rp_id ID, I.item_description Item_Name, V.vendor_name Vendor,date_rp Date, D.DepartmentDesc Department, qty Quantity, remark1, remark2 FROM invent_rp R, invent_item I, department D, invent_vendor V WHERE R.item_id=I.item_id AND D.departmentid=R.departmentid AND R.vendor_id=V.vendor_id');	DEFINE('EDPLANRP','SELECT rp_id, date_rp, item_id, vendor_id, departmentid, qty, remark1, remark2 FROM invent_rp');		//-----------For Combobox ---------------------------------------//	DEFINE('COMITEMCAT','SELECT item_category_code Category_Code, item_category_description Description FROM invent_item_categories ORDER BY item_category_description ASC');	DEFINE('COMBRAND','SELECT brand_id Brand_ID, brand_short_name Short_Name, brand_full_name Full_Name FROM invent_brand ORDER BY brand_id ASC');	DEFINE('COMSTOCKITEM','SELECT item_id, item_description FROM invent_item WHERE item_id NOT IN (SELECT item_id FROM invent_stock)');	DEFINE('COMBCRLEVEL','SELECT critical_id, critical_level FROM invent_critical_level');	DEFINE('COMBUNIT','SELECT id_unit, unit FROM invent_unit');	DEFINE('COMBITEM','SELECT item_id, item_description FROM invent_item ORDER BY item_description ASC');	DEFINE('COMBVENDOR','SELECT vendor_id, vendor_name FROM invent_vendor ORDER BY vendor_name ASC');	DEFINE('COMBSTATE','SELECT state_journal_movement_id, state_journal_movement FROM invent_state_journal_movement');	DEFINE('COMBWRHOUSE','SELECT warehouse_id, warehouse_name FROM invent_warehouse');	DEFINE('COMBCURR','SELECT currency_id ID, currency Currency FROM invent_currency');	DEFINE('COMBCCENTER','SELECT id_cost_center, cost_center FROM cost_center');	DEFINE('COMBDEPARTMENT','SELECT departmentid,departmentdesc FROM department ORDER BY departmentdesc ASC');	DEFINE('COMBMOVETYPE','SELECT type, type FROM invent_movement GROUP BY type ORDER BY type ASC ');	DEFINE('COMBLOCATION','SELECT id_location, id_location FROM invent_location ORDER BY id_location ASC');	DEFINE('COMBSITE','SELECT id_site, id_site FROM invent_site ORDER BY id_site ASC');	DEFINE('COMBWORDER','SELECT WorkOrderNo, WorkOrderNo FROM work_order WHERE Hidden="no" ORDER BY WorkOrderNo DESC');		//-----------Graph Dashboard ---------------------------------------//	DEFINE('MONTHMOVEMENT','SELECT movement_date Movement_Date, id_topup Jurnal_Number, type Movement_Type, item_description Item_Name, B.brand_short_name Brand, qty Quantity, remark1 Remark_1, remark2 Remark_2 FROM invent_movement M, invent_item I, invent_brand B WHERE M.item_id=I.item_id AND I.brand_id=B.brand_id AND MONTH(movement_date)=MONTH(CURDATE()) AND YEAR(movement_date)=YEAR(CURDATE()) ORDER BY movement_date DESC');	DEFINE('HIGHMOVEMENT','SELECT A.Item_Name Item_Name, A.Val Total_Price FROM (SELECT item_description Item_Name, SUM(M.qty)*avg_price Val FROM invent_movement M, invent_item I, invent_brand B WHERE M.item_id=I.item_id AND I.brand_id=B.brand_id AND MONTH(movement_date)=MONTH(CURDATE()) AND YEAR(movement_date)=YEAR(CURDATE()) AND type="Withdraw" GROUP BY item_description) A ORDER BY A.Val DESC');	DEFINE('TOPRIMOVING','SELECT SUM(M.qty*avg_price) Val FROM invent_movement M, invent_item I, invent_brand B WHERE M.item_id=I.item_id AND I.brand_id=B.brand_id AND MONTH(movement_date)=MONTH(CURDATE()) AND YEAR(movement_date)=YEAR(CURDATE()) AND type="Withdraw" ORDER BY M.movement_date DESC LIMIT 50');	DEFINE('ITEMTOPUP','SELECT item_description Item_Name, COUNT(*) FROM invent_movement M, invent_item I, invent_brand B WHERE M.item_id=I.item_id AND I.brand_id=B.brand_id AND MONTH(movement_date)=MONTH(CURDATE()) AND YEAR(movement_date)=YEAR(CURDATE()) AND type="Top Up" GROUP BY item_description ORDER BY COUNT(*) DESC LIMIT 0,10 ');	DEFINE('ITEMJMOVE','SELECT item_description Item_Name, COUNT(*) FROM invent_movement M, invent_item I, invent_brand B WHERE M.item_id=I.item_id AND I.brand_id=B.brand_id AND MONTH(movement_date)=MONTH(CURDATE()) AND YEAR(movement_date)=YEAR(CURDATE()) AND type="Withdraw" GROUP BY item_description ORDER BY COUNT(*) DESC LIMIT 0,10');	DEFINE('ITEMRETUR','SELECT item_description Item_Name, COUNT(*) FROM invent_movement M, invent_item I, invent_brand B WHERE M.item_id=I.item_id AND I.brand_id=B.brand_id AND MONTH(movement_date)=MONTH(CURDATE()) AND YEAR(movement_date)=YEAR(CURDATE()) AND type="Return" GROUP BY item_description ORDER BY COUNT(*) DESC LIMIT 0,10');		//-----------Costing Report -----------------------------------------//	DEFINE('COSTMOVEMENT','SELECT CONCAT(I.item_id," - ",I.item_description) Spare_Parts, J.number_of_stock Qty, CONCAT(C.currency," ",I.avg_price,",00") Price, CONCAT(C.currency," ",I.avg_price*J.number_of_stock,",00") Amount, CONCAT("(",P.PlantCode,") ",W.WorkOrderNo) Remarks, S.AssetNo asset FROM invent_journal_movement J, invent_item I, invent_currency C, work_order W, Asset S, plant P WHERE J.item_id=I.item_id AND I.currency_id=C.currency_id AND J.WorkOrderNo=W.WorkOrderNo AND W.AssetID=S.AssetID AND S.PlantId=P.PlantId AND J.state="SJVST181120050127" ORDER BY J.date_jvmovement DESC');	DEFINE('COSTREPORT','SELECT W.WorkOrderNo, W.ProblemDesc, S.AssetNo, CONCAT(C.currency," ",SUM(I.avg_price*J.number_of_stock),",00") Total_Cost FROM invent_journal_movement J, invent_item I, invent_currency C, work_order W, asset S, plant P WHERE J.item_id=I.item_id AND I.currency_id=C.currency_id AND J.WorkOrderNo=W.WorkOrderNo AND W.AssetID=S.AssetID AND S.PlantId=P.PlantId AND J.state="SJVST181120050127" GROUP BY W.WorkOrderNo DESC');		//-----------Graph Dashboard By Customer Request ---------------------//	DEFINE('LOWLEVELITEM','SELECT I.item_description Item_Name, I.Stock Stock, I.Min Min FROM invent_item I, invent_brand B WHERE I.brand_id=B.brand_id AND I.Stock<I.min ORDER BY Stock ASC');	DEFINE('HIGHLEVELITEM','SELECT I.item_description Item_Name, I.Stock Stock, I.Max Max FROM invent_item I, invent_brand B WHERE I.brand_id=B.brand_id AND I.Stock>I.max ORDER BY Stock DESC');		//============Declaration for Permittion Access====================	DEFINE('_ACCESS_',get_permitted(ACCESS,'access')); 	DEFINE('_VIEW_',get_permitted(ACCESS,'view'));	DEFINE('_EDIT_',get_permitted(ACCESS,'edit')); 	DEFINE('_INSERT_',get_permitted(ACCESS,'insert'));	DEFINE('_DELETE_',get_permitted(ACCESS,'delete')); 	DEFINE('_FULL_',get_permitted(ACCESS,'full'));			//============Define for variable access control ==================	//DEFINE('_USER_INSERT_','');		?>