<?php	function vendor(){		$content .= '<br/><div class="ade">'.TVENDOR.'</div>';		$content .= '<div class="toptext" align="center">'._USER_VIEW_._USER_INSERT_.'</div>';		$content .= '<br/><div id="example1" style="width: 100%; height: 100%; overflow: hidden; font-size=10px;"></div>';		//-------set lebar kolom -------------		$width = "[200,200,200,200,100,100,200,200]";		//-------get id pada sql -------------		$field = gen_mysql_id(VENDOR);		//-------get header pada sql----------		$name = gen_mysql_head(VENDOR);		//-------set header pada handson------		$sethead = "['Vendor ID','Vendor Name','Address','Owner Name'"._USER_EDIT_SETHEAD_._USER_DELETE_SETHEAD_.",'Telephone','Fax']";		//-------set id pada handson----------		$setid = "[{data:'Vendor_ID',className: 'htLeft'},{data:'Vendor_Name',className: 'htLeft'},{data:'Address',className: 'htLeft'},{data:'Owner_Name',className: 'htLeft'}"._USER_EDIT_SETID_._USER_DELETE_SETID_.",{data:'Telephone',className: 'htLeft'},{data:'Fax',className: 'htLeft'}]";			//-------get data pada sql------------		$dt = array(VENDOR,$field,array('Edit','Delete'),array(PATH_VENDOR.EDIT,PATH_VENDOR.DELETE),array(),PATH_VENDOR);		$data = get_data_handson_func($dt);		//----Fungsi memanggil data handsontable melalui javascript---		$fixedcolleft=0;		$sethandson = array($sethead,$setid,$data,$width,$fixedcolleft);		//--------fungsi hanya untuk meload data		if (_VIEW_) $content .= get_handson($sethandson);		//------------Jika ada halaman tambah data-------//			if(isset($_REQUEST['add'])){				$content = '<br/><div class="ade">'.TVENDOR.'</div>';				$content .= '<div class="toptext" align="center">'._USER_VIEW_._USER_INSERT_.'</div>';				//----- Buat Form Isian Berikut-----				$name_field=array('Vendor ID','Vendor Name','Address','Owner Name','Telephone','Fax');				$input_type=array(							text_je(array('vendorid','','false')),							text_je(array('vendor','','false')),							text_je(array('address','','false')),							text_je(array('owner','','false')),							text_je(array('telp','','false')),							text_je(array('fax','','false'))						);				$signtofill = array('<small id="fill" class="form-text text-muted">Please fill this field.</small>',									'<small id="fill" class="form-text text-muted">Please fill this field.</small>',									'<small id="fill" class="form-text text-muted">Please fill this field.</small>',									'<small id="fill" class="form-text text-muted">Please fill this field.</small>','','');				$content .= create_form(array(FAITEM,PATH_VENDOR.ADD.POST,1,$name_field,$input_type,$signtofill));				//------ Aksi ketika post menambahkan data -----//				if(isset($_REQUEST['post'])){					//-- Check item code already exist or not --// 					$querydat = VENDOR.' WHERE Vendor_id="'.$_REQUEST['vendorid'].'"';					$result = mysql_exe_query(array($querydat,1)); $numrow=mysql_exe_num_rows(array($result,1)); 					if($numrow>0){						$content = empty_info(array('Vendor ID Already Exist')).$content;					}elseif(!empty($_REQUEST['vendor']) && !empty($_REQUEST['address']) && !empty($_REQUEST['owner'])){						//-- Insert data pada kategori aset --//						$field = array(								'vendor_id', 								'vendor_name',								'address',								'owner_vendor',								'telephone',								'fax');						$value = array(								'"'.$_REQUEST['vendorid'].'"',								'"'.$_REQUEST['vendor'].'"',								'"'.$_REQUEST['address'].'"',								'"'.$_REQUEST['owner'].'"',								'"'.$_REQUEST['telp'].'"',								'"'.$_REQUEST['fax'].'"'); 						$query = mysql_stat_insert(array('invent_vendor',$field,$value)); 						mysql_exe_query(array($query,1)); 						//-- Ambil data baru dari database --//						$querydat = VENDOR.' WHERE vendor_id="'.$_REQUEST['vendorid'].'"';						$content .= '<br/><div id="example1" style="width: 100%; height: 100%; overflow: hidden; font-size=10px;"></div>';						//-------set lebar kolom -------------						$width = "[200,200,200,200,100,100,200,200]";						//-------get id pada sql -------------						$field = gen_mysql_id(VENDOR);						//-------get header pada sql----------						$name = gen_mysql_head(VENDOR);						//-------set header pada handson------						$sethead = "['Vendor ID','Vendor Name','Address','Owner Name'"._USER_EDIT_SETHEAD_._USER_DELETE_SETHEAD_.",'Telephone','Fax']";						//-------set id pada handson----------						$setid = "[{data:'Vendor_ID',className: 'htLeft'},{data:'Vendor_Name',className: 'htLeft'},{data:'Address',className: 'htLeft'},{data:'Owner_Name',className: 'htLeft'}"._USER_EDIT_SETID_._USER_DELETE_SETID_.",{data:'Telephone',className: 'htLeft'},{data:'Fax',className: 'htLeft'}]";						//-------get data pada sql------------						$dt = array($querydat,$field,array('Edit','Delete'),array(PATH_VENDOR.EDIT,PATH_VENDOR.DELETE),array(),PATH_VENDOR);						$data = get_data_handson_func($dt);						$fixedcolleft=0;						$sethandson = array($sethead,$setid,$data,$width,$fixedcolleft);						$content .= get_handson($sethandson);					}else{						$content = empty_info(array('Some field is empty')).$content;					}				}			}						//------------Jika ada halaman edit data-------//			if(isset($_REQUEST['edit'])){ $info='';				if(isset($_REQUEST['post'])){					if(!empty($_REQUEST['vendor']) && !empty($_REQUEST['address']) && !empty($_REQUEST['owner'])){						//-- Update data--//						$field = array(								'vendor_id', 								'vendor_name',								'address',								'owner_vendor',								'telephone',								'fax');						$value = array(								'"'.$_REQUEST['vendorid'].'"',								'"'.$_REQUEST['vendor'].'"',								'"'.$_REQUEST['address'].'"',								'"'.$_REQUEST['owner'].'"',								'"'.$_REQUEST['telp'].'"',								'"'.$_REQUEST['fax'].'"'); 						$query = mysql_stat_update(array('invent_vendor',$field,$value,'vendor_id="'.$_REQUEST['rowid'].'"'));						mysql_exe_query(array($query,1)); 						//-- Ambil data baru dari database --//						$querydat = VENDOR.' WHERE vendor_id="'.$_REQUEST['rowid'].'"'; 						$info .= '<br/><div id="example1" style="width: 100%; height: 100%; overflow: hidden; font-size=10px;"></div>';						//-------set lebar kolom -------------						$width = "[200,200,200,200,100,100,200,200]";						//-------get id pada sql -------------						$field = gen_mysql_id(VENDOR);						//-------get header pada sql----------						$name = gen_mysql_head(VENDOR);						//-------set header pada handson------						$sethead = "['Vendor ID','Vendor Name','Address','Owner Name'"._USER_EDIT_SETHEAD_._USER_DELETE_SETHEAD_.",'Telephone','Fax']";						//-------set id pada handson----------						$setid = "[{data:'Vendor_ID',className: 'htLeft'},{data:'Vendor_Name',className: 'htLeft'},{data:'Address',className: 'htLeft'},{data:'Owner_Name',className: 'htLeft'}"._USER_EDIT_SETID_._USER_DELETE_SETID_.",{data:'Telephone',className: 'htLeft'},{data:'Fax',className: 'htLeft'}]";						//-------get data pada sql------------						$dt = array($querydat,$field,array('Edit','Delete'),array(PATH_VENDOR.EDIT,PATH_VENDOR.DELETE),array(),PATH_VENDOR);						$data = get_data_handson_func($dt);						$fixedcolleft=0;						$sethandson = array($sethead,$setid,$data,$width,$fixedcolleft);						$info .= get_handson($sethandson);					}else{						$error = empty_info(array('Some field is empty')).$info;					}				}				//-----Ambil nilai semua data yang terkait dengan id data------//				$querydat = VENDOR.' WHERE vendor_id="'.$_REQUEST['rowid'].'"'; $result=mysql_exe_query(array($querydat,1)); $resultnow=mysql_exe_fetch_array(array($result,1));				$vendid=$resultnow[0]; $vendname=$resultnow[1]; $address=$resultnow[2]; $owner=$resultnow[3]; $telp=$resultnow[4]; $fax=$resultnow[5];				//-----Tampilan judul pada pengeditan------				$content = '<br/><div class="ade">'.TVENDOR.$itemname.'</div>';				$content .= '<div class="toptext" align="center"><span><a href="'.PATH_VENDOR.'">View</a></span></div>';				//----- Buat Form Isian Berikut-----				$name_field=array('Vendor ID','Vendor Name','Address','Owner Name','Telephone','Fax');				$input_type=array(							text_je(array('vendorid',$vendid,'false')),							text_je(array('vendor',$vendname,'false')),							text_je(array('address',$address,'false')),							text_je(array('owner',$owner,'false')),							text_je(array('telp',$telp,'false')),							text_je(array('fax',$fax,'false'))						);				$signtofill = array('<small id="fill" class="form-text text-muted">Please fill this field.</small>',									'<small id="fill" class="form-text text-muted">Please fill this field.</small>',									'<small id="fill" class="form-text text-muted">Please fill this field.</small>',									'<small id="fill" class="form-text text-muted">Please fill this field.</small>','','');				$content .= create_form(array(FAITEMCAT,PATH_VENDOR.EDIT.'&rowid='.$_REQUEST['rowid'].POST,1,$name_field,$input_type,$signtofill));				$content = $error.$content.$info;			}						//------------Jika ada halaman delete data-------//			if(isset($_REQUEST['delete'])){				$content = query_delete(array(PATH_VENDOR,'invent_vendor','vendor_id="'.$_REQUEST['rowid'].'"'));			}		return $content;	}?>